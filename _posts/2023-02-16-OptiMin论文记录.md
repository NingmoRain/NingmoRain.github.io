---
layout: post
title: OptiMin论文记录
categories: [论文记录]
description: OptiMin论文记录
keywords: 论文记录

---

### [Seed Selection for Successful Fuzzing][]

#### 摘要

基于突变的灰盒模糊——毫无疑问是最广泛使用的模糊技术——依赖于一组非崩溃的种子输入(语料库)来引导错误查找过程。当评估一个fuzzer时，构建这个语料库的常用方法包括:(i)使用一个空文件;(ii)使用代表目标输入格式的单一种子;或(iii)收集大量种子(例如，通过互联网爬行)。很少有人考虑这种种子选择如何影响模糊过程，对于哪种方法是最好的(甚至是否存在最佳方法)也没有共识。

为了解决这一知识差距，我们系统地调查和评估了种子选择如何影响fuzzer在现实世界软件中发现bug的能力。这包括对评估和部署环境中使用的种子选择实践的系统回顾，以及对六种种子选择方法的大规模实证评估(超过33个cpu年)。这六种种子选择方法包括三种语料库最小化技术(选择最小的种子子集，作为完整语料库触发相同范围的仪表数据点)。

我们的结果表明，模糊结果显著取决于用于引导模糊器的初始种子，最小化的语料库优于单例、空种子集和大种子集(以数千个文件为序)。因此，我们鼓励在评估/部署fuzzer时将种子选择放在首位，并建议(a)仔细考虑种子选择并明确记录，并且(b)永远不要只使用单一种子评估fuzzer。

#### 1. 介绍

Fuzzing是一种动态分析技术，用于发现软件中的bug和漏洞，通过使目标程序接受大量(可能是畸形的)输入来触发目标程序崩溃。基于突变的模糊通常使用一组初始有效的种子输入，从中通过随机突变生成新的种子。由于其简单易用，基于突变的灰盒模糊器，如AFL[74]、honggfuzz[64]和libFuzzer[61]被广泛部署，并已在大量流行程序中成功地发现了数千个错误[6,16]。这一成功促使人们对改进模糊过程的各个方面进行了大量研究，包括突变策略[39,42]、能量分配策略[15,25]和路径探索算法[14,73]。然而，虽然研究人员经常注意到高质量输入种子的重要性及其对模糊器性能的影响[37,56,58,67]，但很少有研究解决基于突变的模糊器的语料库优化设计和构建问题[56,58]，也没有研究评估这些语料库在覆盖引导的基于突变的灰盒模糊中的精确影响。

直观地说，形成初始语料库的种子集合应该在目标中生成广泛的可观察行为。类似地，在语料库中，行为相似的候选种子应该用一个种子表示。最后，语料库的总大小和单个种子的大小都应该最小化。这是因为之前的工作已经证明了文件系统争用对工业规模模糊的影响。Xu等人[71]特别指出，打开/关闭测试用例的开销和工作人员之间的同步每个都引入了2倍的开销。打开/关闭测试用例和同步所花费的时间是从改变输入和扩展代码覆盖中转移出来的。最小化总语料库大小和单个测试用例的大小可以减少这种浪费，并使时间(更好地)花在寻找错误上。

在这些假设下，简单地收集尽可能多的输入文件并不是构建模糊语料库的合理方法。相反，这些假设也表明，从“空的语料库(例如，由一个零长度的文件组成)开始可能不太理想。然而，当我们在这里调查时，大多数已发表的研究使用(a)“单例语料库(例如，代表目标程序输入格式的单个种子)，或(b)空语料库。相比之下，工业规模的模糊(例如，谷歌的OSSFuzz[6])通常使用包含数百个输入的大型语料库。这些输入可能会在目标中产生类似的行为，可能会导致在从所有可用的种子中详尽地探索突变时浪费模糊的努力。实践是使用语料库最小化工具来消除显示重复行为的种子。然而，这些工具都是基于启发式算法，生成的语料库大小相差很大。目前还不清楚这些方法中哪一种(使用空的、单例的或最小化的语料库)是最好的，甚至不清楚是否存在最好的方法。

因此，我们进行了一项系统的研究，以更好地理解种子选择对fuzzer的最终目标的影响:在现实世界的软件中发现错误。我们作出以下贡献:

* 在模糊评估和部署中使用的种子选择实践和语料库最小化技术的系统回顾。我们的综述发现，种子选择实践差异很大，并且对于选择引导模糊过程的种子的最佳方法没有共识(第3节)。
* 一种新的语料库最小化工具OptiMin，它可以生成最优的最小语料库(第4节)。
* 各种选种方法的定量评价和比较。该评估涵盖了三种语料库最小化工具(包括OptiMin)，并发现使用这些工具生成的语料库在bug发现能力方面比单例和空种子语料库表现得更好(第5节)。

[Seed Selection for Successful Fuzzing]:https://ningmorain.github.io/files/OptiMin.pdf
